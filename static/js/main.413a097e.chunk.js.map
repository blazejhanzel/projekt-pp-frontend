{"version":3,"sources":["components/HerokuWait.js","components/RegisterForm.js","components/Sidebar.js","components/Sections.js","App.js","reportWebVitals.js","index.js"],"names":["HerokuWait","props","xhttp","XMLHttpRequest","onreadystatechange","this","readyState","setPage","PageEnum","home","open","send","id","class","RegisterForm","type","placeholder","setCookie","cname","cvalue","exhours","d","Date","setTime","getTime","expires","toUTCString","document","cookie","Sidebar","useState","logged","setLogged","login_button_text","setLoginButtonText","logout","location","reload","openRegisterPage","register","signin","a","data","getElementById","value","fetch","method","credentials","headers","body","JSON","stringify","then","response","json","status","jwt","alert","className","page","onClick","Sections","App","Object","freeze","heroku_wait","section","thread","add_thread","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.413a097e.chunk.js","sourcesContent":["import './HerokuWait.css'\r\nimport React from 'react';\r\n\r\nfunction HerokuWait(props) {\r\n    const url = \"https://projekt-pp-backend.herokuapp.com\"\r\n\r\n    var xhttp = new XMLHttpRequest()\r\n    xhttp.onreadystatechange = function() {\r\n        if (this.readyState == 4) {\r\n            props.setPage(props.PageEnum.home)\r\n        }\r\n    }\r\n\r\n    xhttp.open(\"GET\", url, true);\r\n    xhttp.send();\r\n\r\n    return (\r\n        <div id=\"HerokuWait\">\r\n            <div id=\"container\">\r\n                <div id=\"box\">\r\n                    <div class=\"lds-dual-ring\"></div>\r\n                    <h1>Page is being loaded...</h1>\r\n                    <h3>Server is starting, this can take up to one minute...</h3>\r\n                    <h5>Servers are going to sleep automatically when no load is detected to save server resources.</h5>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HerokuWait\r\n","import '../App.css'\r\nimport React, { useState } from 'react';\r\n\r\nfunction RegisterForm() {\r\n    return (\r\n        <div id=\"registerForm\">\r\n            <input type=\"text\" id=\"login_field\" placeholder=\"login\" />\r\n            <input type=\"password\" id=\"password_field\" placeholder=\"hasło\" />\r\n            <input type=\"text\" id=\"email_form\" placeholder=\"email\" />\r\n            <button type=\"button\">Zarejestruj</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterForm\r\n","import './Sidebar.css'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { isExpired, decodeToken } from 'react-jwt'\r\n\r\nfunction getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var ca = decodedCookie.split(';');\r\n    for(var i = 0; i <ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) == ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) == 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction setCookie(cname, cvalue, exhours) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exhours*60*60*1000));\r\n    var expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\n\r\nfunction Sidebar(props) {\r\n    const [logged, setLogged] = useState(false)\r\n    const [login_button_text, setLoginButtonText] = useState(\"Zaloguj\")\r\n\r\n        // setLogged(() => {\r\n        //     const jwt = getCookie(\"jwt\")\r\n        //     if (jwt == \"\") return false\r\n\r\n        //     fetch(\"https://projekt-pp-backend.herokuapp.com/authorities\", {\r\n        //         credentials: 'same-origin',\r\n        //         headers: {\r\n        //             'Authorization': `Bearer $jwt`\r\n        //         }\r\n        //     }).then((response) => {\r\n        //         if (response.status === 200) return true\r\n        //         return false\r\n        //     })\r\n        // })\r\n\r\n    const logout = () => {\r\n        setCookie(\"jwt\", \"\", -1)\r\n        document.location.reload()\r\n    }\r\n\r\n    const openRegisterPage = () => {\r\n        props.setPage(props.PageEnum.register)\r\n    }\r\n\r\n    const signin = async () => {\r\n        setLoginButtonText(\"Logowanie...\")\r\n\r\n        let data = {\r\n            \"username\": document.getElementById(\"login_field\").value,\r\n            \"password\": document.getElementById(\"password_field\").value\r\n        }\r\n\r\n        fetch(\"https://projekt-pp-backend.herokuapp.com/login\", {\r\n            method: 'POST',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }).then(response => response.json().then(data => {\r\n                if (response.status === 200) {\r\n                setCookie(\"jwt\", data.jwt, 10)\r\n                setLogged(true)\r\n            } else {\r\n                alert(response.status)\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            {(() => {\r\n                if (props.page != props.PageEnum.register) {\r\n                    if (logged) return (\r\n                        <div id=\"login_form\">\r\n                            <p>@{\"nazwa_użytkownika\" /* TODO */}</p>\r\n                            <button type=\"button\" onClick={logout}>Wyloguj</button>\r\n                        </div>\r\n                    ) \r\n                    else return (\r\n                        <div id=\"login_form\">\r\n                            <input type=\"text\" id=\"login_field\" placeholder=\"login\" /><br />\r\n                            <input type=\"password\" id=\"password_field\" placeholder=\"hasło\" />\r\n                            <button type=\"button\" onClick={signin}>{login_button_text}</button>\r\n                            <button type=\"button\" onClick={openRegisterPage}>Zarejestruj</button>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n            <input type=\"text\" id=\"search_form\" placeholder=\"wyszukaj\" />\r\n            <button type=\"button\" class=\"wide_button\">Najpopularniejsze wątki</button>\r\n            <ul>\r\n                <li>Wątek 1</li>\r\n                <li>Wątek 2</li>\r\n                <li>Wątek 3</li>\r\n            </ul>\r\n            <button type=\"button\" class=\"wide_button\">Dodaj wątek</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\n\r\nfunction Sections() {\r\n    return (\r\n        <div className=\"sections\">\r\n            Hello world\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sections\r\n","import './App.css'\nimport React, { useState } from 'react'\nimport HerokuWait from './components/HerokuWait'\nimport RegisterForm from './components/RegisterForm'\nimport Sidebar from './components/Sidebar'\nimport Sections from './components/Sections'\n\nfunction App() {\n  const PageEnum = Object.freeze({\n    \"heroku_wait\": 0,\n    \"home\": 1,\n    \"register\": 2,\n    \"section\": 3,\n    \"thread\": 4,\n    \"add_thread\": 5\n  })\n\n  const [page, setPage] = useState(PageEnum.heroku_wait)\n\n  return (\n    <div id=\"app\">\n      <Sidebar page={page} setPage={setPage} PageEnum={PageEnum} />\n      <div className=\"container\">\n        {        \n          (() => {\n            switch (page) {\n              case PageEnum.heroku_wait:\n                return <HerokuWait setPage={setPage} PageEnum={PageEnum} />\n              case PageEnum.home:\n                return <Sections />\n              case PageEnum.register:\n                return <RegisterForm />\n              case PageEnum.section:\n                return\n              case PageEnum.thread:\n                return\n              case PageEnum.add_thread:\n                return\n            }\n          })()\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}